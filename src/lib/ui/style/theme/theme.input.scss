@use '$lib/ui/style/effects.scss' as *;
@use '$lib/ui/style/utility.color.scss' as *;
@import '$lib/ui/style/tokens.color.css';

/* Remove the spinners in Firefox */
input[type='number'] {
	appearance: textfield;
}

input-combo {
	margin-block: 1px;
	display: inline-flex;
  width: 100%;
	position: relative;

	padding-left: var(--padding-1);

	&::before {
		position: absolute;
		left: 0;
		content: '';
		inset-block: 0; // top: 0; bottom: 0;
		inset-inline-start: 0; // left: 0;
		width: 0;
		border-left: var(--border-thick) solid var(--cl-primary);
	}

  & input {
    &[disabled] {
      filter: grayscale(0.8);
    }
  }

	&:has(input:required:invalid) {
		& > label .suffix,
		&::before {
			--animation-glow-color: var(--cl-primary);
			@include glow-text;
		}
	}
}

label {
	flex: 0 0 auto;

	& .prefix {
		display: inline-block;
		min-width: 3ch;
	}

	& .suffix {
		@include ul-txt-primary;
		color: var(--cl-primary);
	}
}

input {
  @include ul-txt-primary;

	flex: 1 1 auto; /* fill remaining space */
	min-width: 0;

	border-color: var(--cl-primary);

  padding-inline: var(--base-padding-hz);
	border: none;

	& {
		@include animate-padding();
		--_animate-padding-delta: 0rem;
		font-weight: 400;
	}

	&,
	&:focus,
	&:hover {
		transition-property: font-weight, padding, box-shadow, border-color;
		transition-duration: 0.2s;
		transition-timing-function: ease-out;
	}

	&:focus {
		--_animate-padding-delta: 0.25rem;

		font-weight: 900;
		border-color: var(--cl-primary-bright);
	}

	&::placeholder {
		transition: opacity 0.2s ease-out;

		font-style: italic;
		font-weight: normal;
		color: var(--cl-primary-dimmer);
		transition: color 0.2s ease-out;
	}

	&:focus::placeholder {
		color: var(--cl-primary-dimmest);
	}
}

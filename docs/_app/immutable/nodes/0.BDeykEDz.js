import"../chunks/DsnmJJEf.js";import{n as S,e as b,r as K,J as k,b1 as N,ak as g,an as f,ap as i,aq as l,a4 as x,a6 as E,al as O,ao as u,A as _}from"../chunks/BmQdwaLY.js";import{a as C}from"../chunks/BfSvzAh3.js";import{s as D}from"../chunks/DPVpVzp-.js";import{i as I}from"../chunks/iLMuZamR.js";import{o as $,a as q}from"../chunks/VPUY0YtI.js";function T(a,e,t){S(()=>{var n=b(()=>e(a,t?.())||{});if(t&&n?.update){var o=!1,s={};K(()=>{var r=t();k(r),o&&N(s,r)&&(s=r,n.update(r))}),o=!0}if(n?.destroy)return()=>n.destroy()})}const V=20;function L(a,e={}){const{debounceDelay:t=0,cooldownDelay:n=1500,context:o,shouldPreventDefault:s=!0}=e;o&&console.debug("created smart handler context. options",e,"Handler:",a.toString());let r=F(a,t,n,s);return r.toString=function(){return`Smart Handler. Params: ${JSON.stringify({debounceDelay:t,cooldownDelay:n,shouldPreventDefault:s})}. Context [${o}]. for handler:`+a.toString()},r}function F(a,e,t,n){let o,s=!1,r=!1;return async function(d){o&&window.clearTimeout(o),n&&d.preventDefault(),o=window.setTimeout(async()=>{if(s||r){console.debug("handler",a.name,"cd",s,"processing",r,"handler:",a.toString());return}r=!0,s=!0,window.setTimeout(()=>{console.debug(`setting timeout for handler. Cd: [${t}]. handler`,a.toString()),s=!1},t);try{await a.call(this,d)}finally{r=!1}},e)}}class y{#e=[];register(e){this.#e.indexOf(e)==-1&&this.#e.push(e)}unregister(e){let t=this.#e.indexOf(e),n=!1;return t!=-1&&(this.#e.splice(t,1),n=!0),n}signal(e){console.debug("signal dispatching to handler count:",this.#e.length,"signal",e),this.#e.forEach(t=>{console.debug("dispaching Singal",e,"to handler",t.toString());try{t(e)}catch(n){console.error("failed handling for handler",n)}})}}const z=new y;function j(a,e){z.signal({key:a,targetNode:e})}class p{#e;#t;constructor(e=!1){this.#e=new Map,this.#t=e}add(e,t){this.addValues(e,[t])}addValues(e,t){let n=this.#e.get(e);n?n=n.concat(t):n=t,this.#t?this.#e.set(e,[...new Set(n)]):this.#e.set(e,n)}removeValues(e,t){let n=this.#e.get(e);n&&(t.forEach(o=>{n.indexOf(o)>-1&&n.splice(n.indexOf(o),1)}),n.length==0&&this.#e.delete(e))}remove(e,t){this.removeValues(e,[t])}get(e){return this.#e.get(e)??[]}has(e){return this.#e.has(e)}}class c{#e=!1;#t=new p(!0);#n=this.#a.bind(this);assignHotKeys(e,t){e.forEach(n=>this.assignHotKey(n,t))}assignHotKey(e,t){if(console.debug("HotkeysModule assigning key:",e,"to handler:",t.toString()),e=e.toLowerCase(),!this.#e)throw new Error(`${c.name} Need to initialize Class before assigning hotkeys`);this.#t.add(e,t)}removeHotKey(e,t){this.#t.remove(e,t)}removeHotKeys(e,t){e.forEach(n=>this.removeHotKey(n,t))}#a(e){let t=e.key.toLowerCase(),o=this.#t.get(t);console.debug("HotkeysModule - reachedKeydownEvent key:",t,"relevantHandlers",o?.length),o?.forEach(s=>s(e))}init(){if(this.#e)throw new Error(`${c.name} Was already initialized`);document.addEventListener("keydown",this.#n),this.#e=!0}destroy(){document.removeEventListener("keydown",this.#n),this.#t=new p,this.#e=!1}}const h=new c;class A{#e=0;get navigationMode(){return this.#e}set#t(e){console.log("reached setNavigationMode2",e,this.#e),e!=this.#e&&(console.log("reached setMouseNavigationMode3"),console.debug("StateManager Mode Change. Setting New mode:",e),this.#e=e,this.#n.signal(e))}#n=new y;setMouseNavigationMode(){console.log("setNavigationMode1 Mouse"),this.#t=0}setKeyboardNavigationMode(){console.log("setNavigationMode1 Keyboard"),this.#t=1}registerNavigationModeChange(e){this.#n.register(e)}unregisterNavigationModeChange(e){return this.#n.unregister(e)}}const B=new A;function P(a){B.setKeyboardNavigationMode(),a.focus({preventScroll:!0}),a.scrollIntoView({behavior:"smooth",block:"nearest"})}function J(a,e){if(!e)return;let t=W(a,e);return h.assignHotKey(e,t),{destroy:()=>{h.removeHotKey(e,t)}}}function W(a,e){return L(t=>{t.target!==a&&(P(a),j(e,a))},{cooldownDelay:V,context:`focus node: [${a.toString()}]`})}var R=g('<div class="home-button-container svelte-1rhyilk"><a href="/" class="home-button left svelte-1rhyilk">Home</a></div>');function U(a){var e=R(),t=i(e);T(t,(n,o)=>J?.(n,o),()=>"h"),l(e),f(a,e)}function Y(a,e){x(e,!1),$(()=>{h.init()}),q(()=>{h.destroy()}),I(),E()}var G=g('<link rel="preconnect" href="https://fonts.googleapis.com"/>'),Q=g('<!> <div class="app-container svelte-rknqnj"><header class="header svelte-rknqnj"><div class="svelte-rknqnj"><!></div> <h1 class="title center svelte-rknqnj"></h1></header> <main class="page-container svelte-rknqnj"><!></main></div>',1);function oe(a,e){var t=Q();C(H=>{var M=G();f(H,M)});var n=O(t);Y(n,{});var o=u(n,2),s=i(o),r=i(s),v=i(r);U(v),l(r);var d=u(r,2);d.textContent="Application List:",l(s);var m=u(s,2),w=i(m);D(w,()=>e.children??_),l(m),l(o),f(a,t)}export{oe as component};

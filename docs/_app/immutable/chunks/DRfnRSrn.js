import"./DsnmJJEf.js";import"./B1pINjNq.js";import{aN as h,g,V as f,aa as p,a as R,b as y,a6 as v,ax as D,a9 as T,b7 as w,aP as C,a8 as V,a7 as b,ab as k,ac as x}from"./dn7Xk9dZ.js";import{O as S,D as O}from"./KLjgY6GW.js";import{s as A,i as B,c as N,a as _,b as F,f as P}from"./CCLfPyPb.js";function E(a,e){[a,e]=[Math.floor(a),Math.floor(e)];const s=j(a,e),n=s[s.length-1].fromRange[1];return i=>{const r=i*n;return A(s,r)}}function j(a,e){let s=[{from:a,to:e}];a*e<0&&(s=[{from:a,to:0},{from:0,to:e}]);const n=[];for(const o of s){const c=z(o.from,o.to);n.push(c)}const t=n[0],i=n[1],r=t;let u=t[t.length-1].fromRange[1];return i?.forEach(o=>{const c=o.fromRange[1]-o.fromRange[0],l=u+c;o.fromRange[0]=u,o.fromRange[1]=l,u=l,r.push(o)}),t}function z(a,e){let s=!1;if((a<0||e<0)&&(s=!0,[a,e]=[-a,-e]),a===e)return[{fromRange:[0,1],toRange:[a,a]}];const n=a<e;[a,e]=n?[a,e]:[e,a];let t=L(a,e);if(!n){t=t.map(r=>({fromRange:r.fromRange,toRange:[r.toRange[1],r.toRange[0]]})).reverse();let i=0;for(let r=0;r<t.length;r++){const u=t[r].fromRange[1]-t[r].fromRange[0];t[r].fromRange=[i,i+u],i+=u}}return s&&(t=t.map(i=>({fromRange:i.fromRange,toRange:[-i.toRange[0],-i.toRange[1]]}))),t}function L(a,e){if(a===e)return[{fromRange:[0,1],toRange:[a,a]}];const s=[];let n=0,t=1,i=a;const u=B(a,e);for(let o=0;o<=u;o++){const c=i/t%10;let l=0;o!==u?l=10-c:l=Math.floor(e/t)%10-c,N(e,i,u)<=0&&(l=0);const d=i+l*t;l!==0&&s.push({fromRange:[n,n+l],toRange:[i,d]}),i=d,n+=l,t*=10}t=10**u;for(let o=u-1;o>=0;o--){t/=10;const l=Math.floor(e/t)%10,d=i+l*t;l!==0&&s.push({fromRange:[n,n+l],toRange:[i,d]}),n+=l,i=d}return s}class m{#t=h(0);get oldValue(){return g(this.#t)}set oldValue(e){f(this.#t,e,!0)}#a=h(0);get value(){return g(this.#a)}set value(e){f(this.#a,e,!0)}#s=h(0);get displayValue(){return g(this.#s)}set displayValue(e){f(this.#s,e,!0)}#n=h(0);get digitsAfterDec(){return g(this.#n)}set digitsAfterDec(e){f(this.#n,e,!0)}displayFunc=(e,s)=>e.toString();#i=p(()=>this.displayFunc(this.displayValue,this.value));get displayValueString(){return g(this.#i)}set displayValueString(e){f(this.#i,e)}duration;animationTweenBuilder;#e;constructor(e=0,s=1e3,n){this.duration=s,this.value=e,this.animationTweenBuilder=n,R(()=>{const t=this.value;y(()=>{this.triggerValueChange(t),this.oldValue=this.value})})}triggerValueChange(e){this.animateDisplayValueV2(e)}static withBasicTween(e=0,s=1e3){return new m(e,s,_)}static with(e=0,s=1e3,n){return new m(e,s,n)}animateDisplayValueV2(e){this.#e?.stop();const s=F(this.animationTweenBuilder(this.displayValue,e),n=>this.displayValue=P(n,this.digitsAfterDec),{duration:this.duration});this.#e=s,this.#e?.start()}async rerunAnimationFrom(e){this.displayValue=e,this.triggerValueChange(this.value)}}function X(a,e){v(e,!0);let s=m.with(0,1e3,E),n=D(s),t=p(()=>e.outputFunc(...e.fieldValues));R(()=>{n.value=g(t)}),S(a,{id:"output",get value(){return n.displayValue},children:(i,r)=>{w();var u=C("Output");V(i,u)}}),T()}var Y=b('<div class="mini-app svelte-3dre0x"><!></div>');function q(a){let e={X:{type:"number"},Y:{type:"number"}};var s=Y(),n=k(s);O(n,{get formSchema(){return e},outputFunc:(t,i)=>t+i,get OutputComponent(){return X}}),x(s),V(a,s)}const Q=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{q as _,Q as a};

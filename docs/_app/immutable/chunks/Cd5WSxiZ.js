const f=globalThis,T=()=>f.performance?.now?f.performance.now():Date.now();let p=0;const b=n=>{const t=T()-p,r=Math.max(0,16-t);return setTimeout(()=>{p=T(),n(p)},r)},R=n=>clearTimeout(n),g=typeof f.requestAnimationFrame=="function"?f.requestAnimationFrame:b,_=typeof f.cancelAnimationFrame=="function"?f.cancelAnimationFrame:R;function M(n,e){let t=0,r=!1,o=!1,a=0,s=null,i=null,d=0,u=0,l=e;function h(){r=!1,o=!1,console.log("stop total runtime",performance.now()-s),_(t)}const w={start(c){r&&!o||(s=null,u=0,r=!0,o=!1,c&&(l={...l,...c}),a=0,t=g(m))},stop(){r&&h()},pause(){!r||o||(console.log("pause"),o=!0,_(t))},resume(){!r||!o||(console.log("resume"),o=!1,i!=null&&(d+=performance.now()-i,i=null),a=0,t=g(m))},get running(){return r},get paused(){return i=performance.now(),o},get animationRuntime(){return u},get currentAnimationParams(){return l}};function m(c){if(!r||o)return;s??=performance.now();const A=a?c-a:16.6667;if(a=c,u+=A-d,n(A,u,w,l)===!1){h();return}!r||o||(t=g(m))}return w}function S(n,e,t){return n*(1-t)+e*t}function C(n,e,t){const[r,o]=n,[a,s]=e;if(o===r)return a;const i=(t-r)/(o-r);return a+i*(s-a)}function y(n,e){const t=n.find(r=>e>=r.fromRange[0]&&e<=r.fromRange[1]);if(!t)throw new Error(`Value [${e}] not found in range maps. ${JSON.stringify(n)}`);return C(t.fromRange,t.toRange,e)}function I(n,e=0){if(!Number.isFinite(n))return n;const t=10**e;return Math.floor(n*t)/t}function N(n,e,t){const r=Math.floor(n/10**t),o=Math.floor(e/10**t);return r-o}function k(n){if(!Number.isFinite(n)||Object.is(n,-0))return 0;const e=n.toString().toLowerCase();if(!e.includes("e")){const i=e.indexOf(".");return i===-1?0:e.length-i-1}const[t,r]=e.split("e"),o=parseInt(r,10),a=t.indexOf("."),s=a===-1?0:t.length-a-1;return o>=0?Math.max(0,s-o):s+-o}function q(n,e){if(n===e)return-1;const t=n.toString(),r=e.toString(),o=Math.max(t.length,r.length),a=t.padStart(o,"0"),s=r.padStart(o,"0");for(let i=0;i<o;i++)if(a[i]!==s[i])return o-1-i;return-1}function F(n,e){return t=>S(n,e,t)}function L(n,e){const{from:t,to:r}=e,o=F(t,r);return D(o,n,e)}function D(n,e,t){return x((r,o)=>{e(n(r))},t)}function x(n,e){return M((t,r,o,a)=>{const s=Math.min(r/a.duration,1);return n(s,a),s<1},e)}export{F as a,D as b,N as c,k as d,I as f,q as i,y as s,L as t};

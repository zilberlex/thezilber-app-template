import{c as O,i as P,e as x}from"./CKiNHVVP.js";import{d as v}from"./DXzmktii.js";class L{#e=new Map;#n;constructor(n){this.#n=n}set(n,t){const o=this.#e.get(n)??{};o.value=t,this.#t(n,o),this.#e.set(n,o)}get(n,t=!0){let o=this.#e.get(n);return o&&t&&this.#t(n,o),o?.value}#t(n,t){clearTimeout(t.timeout),t.timeout=setTimeout(()=>{this.#e.delete(n)},this.#n)}}function N(e,n){let t,o;return{execute:()=>(o=e.execute(),e.executed&&(clearTimeout(t),t=setTimeout(()=>{e.undo()},n)),o),undo:()=>{clearTimeout(t),e.executed&&e.undo(),o=!1},get executed(){return e.executed}}}function M(e,n){let t=!1;return{execute:()=>t||e.classList.contains(n)?!1:(e.classList.add(n),t=!0,!0),undo:()=>{t&&(e.classList.remove(n),t=!1)},get executed(){return t}}}function T(e,n,t){return N(M(e,n),t)}const C=x.buttonRapidFireCooldownMs,j=x.buttonClickPressedCssDurationMs,w=new L(1e3*60*5),he=()=>O(e=>{e.target.click()},{cooldownDelay:C,shouldExecuteFunction:P,shouldPreventDefault:!0}),ge=()=>O(e=>{const n=e.target;D(n)},{cooldownDelay:C,shouldPreventDefault:!0});function D(e,n="KEY_DOWN"){let t=w.get(e);if(!t){console.log("Creating New CssCommands For Button",e),t=[];let o=T(e,"btn-start-work",C);if(t.push(o),n=="KEY_DOWN"){let r=T(e,"btn-pressed",j);t.push(r)}w.set(e,t)}t.forEach(o=>o.execute())}const W=["string","number","bigint","boolean"];function y(e){return e==null||W.includes(typeof e)?!0:Array.isArray(e)?e.every(n=>y(n)):typeof e=="object"?Object.getPrototypeOf(e)===Object.prototype:!1}function F(...e){return function(n){for(const t of e)if(t){if(n.defaultPrevented)return;typeof t=="function"?t.call(this,n):t.current?.call(this,n)}}}var S=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,H=/\n/g,G=/^\s*/,U=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,B=/^:\s*/,V=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,X=/^[;\s]*/,Y=/^\s+|\s+$/g,K=`
`,_="/",R="*",h="",$="comment",z="declaration";function Z(e,n){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];n=n||{};var t=1,o=1;function r(a){var i=a.match(H);i&&(t+=i.length);var d=a.lastIndexOf(K);o=~d?a.length-d:o+a.length}function s(){var a={line:t,column:o};return function(i){return i.position=new c(a),l(),i}}function c(a){this.start=a,this.end={line:t,column:o},this.source=n.source}c.prototype.content=e;function u(a){var i=new Error(n.source+":"+t+":"+o+": "+a);if(i.reason=a,i.filename=n.source,i.line=t,i.column=o,i.source=e,!n.silent)throw i}function p(a){var i=a.exec(e);if(i){var d=i[0];return r(d),e=e.slice(d.length),i}}function l(){p(G)}function f(a){var i;for(a=a||[];i=g();)i!==!1&&a.push(i);return a}function g(){var a=s();if(!(_!=e.charAt(0)||R!=e.charAt(1))){for(var i=2;h!=e.charAt(i)&&(R!=e.charAt(i)||_!=e.charAt(i+1));)++i;if(i+=2,h===e.charAt(i-1))return u("End of comment missing");var d=e.slice(2,i-2);return o+=2,r(d),e=e.slice(i),o+=2,a({type:$,comment:d})}}function E(){var a=s(),i=p(U);if(i){if(g(),!p(B))return u("property missing ':'");var d=p(V),k=a({type:z,property:A(i[0].replace(S,h)),value:d?A(d[0].replace(S,h)):h});return p(X),k}}function m(){var a=[];f(a);for(var i;i=E();)i!==!1&&(a.push(i),f(a));return a}return l(),m()}function A(e){return e?e.replace(Y,h):h}function q(e,n){let t=null;if(!e||typeof e!="string")return t;const o=Z(e),r=typeof n=="function";return o.forEach(s=>{if(s.type!=="declaration")return;const{property:c,value:u}=s;r?n(c,u,s):u&&(t=t||{},t[c]=u)}),t}const J=/\d/,Q=["-","_","/","."];function ee(e=""){if(!J.test(e))return e!==e.toLowerCase()}function ne(e){const n=[];let t="",o,r;for(const s of e){const c=Q.includes(s);if(c===!0){n.push(t),t="",o=void 0;continue}const u=ee(s);if(r===!1){if(o===!1&&u===!0){n.push(t),t=s,o=u;continue}if(o===!0&&u===!1&&t.length>1){const p=t.at(-1);n.push(t.slice(0,Math.max(0,t.length-1))),t=p+s,o=u;continue}}t+=s,o=u,r=c}return n.push(t),n}function I(e){return e?ne(e).map(n=>oe(n)).join(""):""}function te(e){return re(I(e||""))}function oe(e){return e?e[0].toUpperCase()+e.slice(1):""}function re(e){return e?e[0].toLowerCase()+e.slice(1):""}function b(e){if(!e)return{};const n={};function t(o,r){if(o.startsWith("-moz-")||o.startsWith("-webkit-")||o.startsWith("-ms-")||o.startsWith("-o-")){n[I(o)]=r;return}if(o.startsWith("--")){n[o]=r;return}n[te(o)]=r}return q(e,t),n}function ie(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}function se(e,n){const t=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(t)?o.replace(t,n):o}}const ae=se(/[A-Z]/,e=>`-${e.toLowerCase()}`);function ce(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(n=>`${ae(n)}: ${e[n]};`).join(`
`)}function ue(e={}){return ce(e).replace(`
`," ")}const le=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],fe=new Set(le);function de(e){return fe.has(e)}function Ee(...e){const n={...e[0]};for(let t=1;t<e.length;t++){const o=e[t];if(o){for(const r of Object.keys(o)){const s=n[r],c=o[r],u=typeof s=="function",p=typeof c=="function";if(u&&de(r)){const l=s,f=c;n[r]=F(l,f)}else if(u&&p)n[r]=ie(s,c);else if(r==="class"){const l=y(s),f=y(c);l&&f?n[r]=v(s,c):l?n[r]=v(s):f&&(n[r]=v(c))}else if(r==="style"){const l=typeof s=="object",f=typeof c=="object",g=typeof s=="string",E=typeof c=="string";if(l&&f)n[r]={...s,...c};else if(l&&E){const m=b(c);n[r]={...s,...m}}else if(g&&f){const m=b(s);n[r]={...m,...c}}else if(g&&E){const m=b(s),a=b(c);n[r]={...m,...a}}else l?n[r]=s:f?n[r]=c:g?n[r]=s:E&&(n[r]=c)}else n[r]=c!==void 0?c:s}for(const r of Object.getOwnPropertySymbols(o)){const s=n[r],c=o[r];n[r]=c!==void 0?c:s}}}return typeof n.style=="object"&&(n.style=ue(n.style).replaceAll(`
`," ")),n.hidden===!1&&(n.hidden=void 0,delete n.hidden),n.disabled===!1&&(n.disabled=void 0,delete n.disabled),n}export{ge as a,he as c,Ee as m};

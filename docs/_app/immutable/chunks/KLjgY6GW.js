import"./DsnmJJEf.js";import{aT as J,b5 as Q,z as w,a5 as R,b as W,az as U,j as X,b6 as Z,a6 as I,a7 as C,av as K,a8 as h,a9 as A,aw as O,ab as m,ai as B,ac as d,b7 as F,b8 as z,g as v,aa as g,a as $,ax as ee,aP as j,aO as te,au as ae,b9 as oe}from"./dn7Xk9dZ.js";import{s as L}from"./rd3AnalW.js";import{i as re}from"./C6Gw_0wA.js";import{e as ne}from"./DRj_7vlG.js";import{c as le}from"./aiU_1WQI.js";import{p as x,b as se,r as q,s as ce}from"./HB7942dF.js";import{s as S}from"./yBvVvH37.js";import{b as ie,r as ue,s as k,c as ve,a as de}from"./BkHuLanm.js";import{c as me,t as fe,a as he}from"./B8eWRcvA.js";import"./B1pINjNq.js";import{c as be,a as ye,m as ge}from"./D4KZDPMK.js";function _e(){return Symbol(J)}function pe(t,e,a=e){var o=new WeakSet;Q(t,"input",async n=>{var r=n?t.defaultValue:t.value;if(r=P(t)?V(r):r,a(r),w!==null&&o.add(w),await R(),r!==(r=e())){var s=t.selectionStart,c=t.selectionEnd;t.value=r??"",c!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(c,t.value.length))}}),(X&&t.defaultValue!==t.value||W(e)==null&&t.value)&&(a(P(t)?V(t.value):t.value),w!==null&&o.add(w)),U(()=>{var n=e();if(t===document.activeElement){var r=Z??w;if(o.has(r))return}P(t)&&n===V(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function P(t){var e=t.type;return e==="number"||e==="range"}function V(t){return t===""?null:+t}var ke=C('<input-combo><label><span class="prefix"><!></span><span class="suffix">:</span></label> <input required/></input-combo>',2);function xe(t,e){I(e,!0);let a=x(e,"minLableWidth",3,0),o=x(e,"value",15),n=x(e,"disabled",3,!1);var r=ke(),s=m(r),c=m(s),i=m(c);S(i,()=>e.children??B),d(c),F(),d(s);var u=O(s,2);ue(u),ie(u,()=>e.hotkey?me(e.hotkey.tooltip,e.hotkey.hotkey,"alt"):()=>{}),d(r),K(()=>{k(s,"for",e.id),ve(c,`min-width: ${a()??""}`),u.disabled=n(),k(u,"type",e.type),k(u,"name",e.id),k(u,"id",e.id),k(u,"placeholder",e.placeholder)}),pe(u,o),h(t,r),A()}var we=C('<output-combo><label for="output"><!><span class="suffix">:</span></label> <output class="ul-txt-primary svelte-yrtgo0"> </output></output-combo>',2);function Fe(t,e){var a=we(),o=m(a),n=m(o);S(n,()=>e.children??B),F(),d(o);var r=O(o,2),s=m(r,!0);d(r),d(a),K(()=>{k(r,"id",e.id),L(s,e.value)}),h(t,a)}var Ce=z('<svg class="icon svelte-f5c8mv" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><!></svg>');function Oe(t,e){var a=Ce(),o=m(a);S(o,()=>e.children),d(a),h(t,a)}var Se=z('<rect x="8" y="8" width="14" height="14" rx="0"></rect><rect x="2" y="2" width="14" height="14" rx="0"></rect>',1);function Te(t){Oe(t,{children:(e,a)=>{var o=Se();F(),h(e,o)}})}var Ee=C("<button><!></button>");function Ne(t,e){I(e,!0);let a=x(e,"thisNode",15),o=x(e,"onkeydown",3,()=>{}),n=q(e,["$$slots","$$events","$$legacy","children","thisNode","onkeydown","onclick"]);const r=be(),s=ye(),c=g(()=>ge({onkeydown:o(),onclick:e.onclick},{onkeydown:r,onclick:s},n));var i=Ee();de(i,()=>({class:"icon-button",...v(c)}),void 0,void 0,"svelte-asig7a");var u=m(i);S(u,()=>e.children),d(i),se(i,T=>a(T),()=>a()),h(t,i),A()}function Pe(t,e){const a=q(e,["$$slots","$$events","$$legacy","textToCopy"]);function o(){navigator.clipboard.writeText(e.textToCopy)}Ne(t,ce({onclick:o},()=>a,{children:(n,r)=>{Te(n)},$$slots:{default:!0}}))}function M(t){return t.value??t.schema.default??Ke(t.schema.type)}function Ve(t){const e={};for(const[a,o]of Object.entries(t))e[a]={schema:o};return e}function Ie(t,e){const a={};for(const[o,n]of Object.entries(e)){const r=t[o],s={schema:n.schema},c=r?.value,i=n.value;s.value=i!==void 0?i:c,a[o]=s}return a}function Ke(t){switch(t){case"string":return"";case"number":return 0;case"boolean":return!1;default:return""}}var Ae=C('<div class="overlay-wrapper svelte-glcev"><div class="copy-button svelte-glcev"><!></div> <!></div>'),Be=C('<div class="dynamic-form box box-highlight svelte-glcev"><div class="input-area svelte-glcev"></div> <div class="output-container svelte-glcev"><!></div></div>');function Ue(t,e){I(e,!0);let a=x(e,"form",31,()=>ee({})),o=g(()=>Object.entries(a())),n=g(()=>v(o).map(([,l])=>M(l))),r=g(()=>{const l=v(n);return e.outputFunc(...l)});$(()=>{fe(e.formSchema),W(()=>{a(s(a(),e.formSchema))})});function s(l,f){const b=Ve(f);return Ie(l,b)}var c=Be(),i=m(c);ne(i,23,()=>v(o),([l,f])=>l,(l,f,b)=>{var _=g(()=>oe(v(f),2));let p=()=>v(_)[0],y=()=>v(_)[1];{let D=g(()=>({hotkey:(v(b)+1).toString(),tooltip:`Modify |${p()}|`})),E=g(()=>M(y()).toString());xe(l,{get hotkey(){return v(D)},get type(){return y().schema.type},get placeholder(){return v(E)},get value(){return y().value},set value(N){y().value=N},children:(N,De)=>{F();var H=j();K(()=>L(H,p())),h(N,H)},$$slots:{default:!0}})}}),d(i);var u=O(i,2),T=m(u);{var Y=l=>{var f=te(),b=ae(f);le(b,()=>e.OutputComponent,(_,p)=>{p(_,{get fieldValues(){return v(n)},get outputFunc(){return e.outputFunc}})}),h(l,f)},G=l=>{var f=Ae(),b=m(f),_=m(b);Pe(_,{get textToCopy(){return v(r)},[_e()]:y=>(he("Copy","c","alt")||B)(y)}),d(b);var p=O(b,2);Fe(p,{id:"output",get value(){return v(r)},children:(y,D)=>{F();var E=j("Output");h(y,E)}}),d(f),h(l,f)};re(T,l=>{e.OutputComponent?l(Y):l(G,!1)})}d(u),d(c),h(t,c),A()}export{Ue as D,xe as I,Fe as O,_e as c};

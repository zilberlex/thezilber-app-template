import"./DsnmJJEf.js";import{b3 as z,t as J,e as E,r as X,p as Y,av as R,b4 as G,aJ as y,I as c,ac as p,aL as S,u as F,a4 as P,ak as A,am as W,an as _,a6 as L,ao as D,ap as g,A as M,aq as v,b2 as V,ab as H,aM as T}from"./BmQdwaLY.js";import{s as K,i as Q,c as U,a as Z,b as $,f as ee,d as B}from"./Cd5WSxiZ.js";import{s as j}from"./DPVpVzp-.js";import{r as te,s as b,b as ae}from"./8yxSTBIS.js";import{p as O}from"./CjKGbJSy.js";import{s as se}from"./BfSvzAh3.js";function ie(t,e,i=e){var n=new WeakSet;z(t,"input",async a=>{var s=a?t.defaultValue:t.value;if(s=k(t)?C(s):s,i(s),R!==null&&n.add(R),await J(),s!==(s=e())){var r=t.selectionStart,u=t.selectionEnd;t.value=s??"",u!==null&&(t.selectionStart=r,t.selectionEnd=Math.min(u,t.value.length))}}),(Y&&t.defaultValue!==t.value||E(e)==null&&t.value)&&(i(k(t)?C(t.value):t.value),R!==null&&n.add(R)),X(()=>{var a=e();if(t===document.activeElement){var s=G??R;if(n.has(s))return}k(t)&&a===C(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function k(t){var e=t.type;return e==="number"||e==="range"}function C(t){return t===""?null:+t}function ne(t,e){[t,e]=[Math.floor(t),Math.floor(e)];const i=re(t,e),n=i[i.length-1].fromRange[1];return s=>{const r=s*n;return K(i,r)}}function re(t,e){let i=[{from:t,to:e}];t*e<0&&(i=[{from:t,to:0},{from:0,to:e}]);const n=[];for(const l of i){const f=le(l.from,l.to);n.push(f)}const a=n[0],s=n[1],r=a;let u=a[a.length-1].fromRange[1];return s?.forEach(l=>{const f=l.fromRange[1]-l.fromRange[0],o=u+f;l.fromRange[0]=u,l.fromRange[1]=o,u=o,r.push(l)}),a}function le(t,e){let i=!1;if((t<0||e<0)&&(i=!0,[t,e]=[-t,-e]),t===e)return[{fromRange:[0,1],toRange:[t,t]}];const n=t<e;[t,e]=n?[t,e]:[e,t];let a=ue(t,e);if(!n){a=a.map(r=>({fromRange:r.fromRange,toRange:[r.toRange[1],r.toRange[0]]})).reverse();let s=0;for(let r=0;r<a.length;r++){const u=a[r].fromRange[1]-a[r].fromRange[0];a[r].fromRange=[s,s+u],s+=u}}return i&&(a=a.map(s=>({fromRange:s.fromRange,toRange:[-s.toRange[0],-s.toRange[1]]}))),a}function ue(t,e){if(t===e)return[{fromRange:[0,1],toRange:[t,t]}];const i=[];let n=0,a=1,s=t;const u=Q(t,e);for(let l=0;l<=u;l++){const f=s/a%10;let o=0;l!==u?o=10-f:o=Math.floor(e/a)%10-f,U(e,s,u)<=0&&(o=0);const h=s+o*a;o!==0&&i.push({fromRange:[n,n+o],toRange:[s,h]}),s=h,n+=o,a*=10}a=10**u;for(let l=u-1;l>=0;l--){a/=10;const o=Math.floor(e/a)%10,h=s+o*a;o!==0&&i.push({fromRange:[n,n+o],toRange:[s,h]}),n+=o,s=h}return i}class w{#t=y(0);get oldValue(){return c(this.#t)}set oldValue(e){p(this.#t,e,!0)}#a=y(0);get value(){return c(this.#a)}set value(e){p(this.#a,e,!0)}#s=y(0);get displayValue(){return c(this.#s)}set displayValue(e){p(this.#s,e,!0)}#i=y(0);get digitsAfterDec(){return c(this.#i)}set digitsAfterDec(e){p(this.#i,e,!0)}displayFunc=(e,i)=>e.toString();#n=S(()=>this.displayFunc(this.displayValue,this.value));get displayValueString(){return c(this.#n)}set displayValueString(e){p(this.#n,e)}duration;animationTweenBuilder;#e;constructor(e=0,i=1e3,n){this.duration=i,this.value=e,this.animationTweenBuilder=n,F(()=>{console.log("WOW effect triggered - value",this.value);const a=this.value;E(()=>{this.triggerValueChange(a),this.oldValue=this.value})})}triggerValueChange(e){this.animateDisplayValueV2(e)}static withBasicTween(e=0,i=1e3){return new w(e,i,Z)}static with(e=0,i=1e3,n){return new w(e,i,n)}animateDisplayValueV2(e){this.#e?.stop();const i=$(this.animationTweenBuilder(this.displayValue,e),n=>this.displayValue=ee(n,this.digitsAfterDec),{duration:this.duration});this.#e=i,this.#e?.start()}async rerunAnimationFrom(e){this.displayValue=e,this.triggerValueChange(this.value)}}var oe=A('<input-combo><label><span class="prefix"><!></span><span class="suffix">:</span></label> <input required/></input-combo>',2);function N(t,e){P(e,!0);let i=O(e,"minLableWidth",3,0),n=O(e,"value",15);var a=oe(),s=g(a),r=g(s),u=g(r);j(u,()=>e.children??M),v(r),V(),v(s);var l=D(s,2);te(l),v(a),W(()=>{b(s,"for",e.id),ae(r,`min-width: ${i()??""}`),b(l,"type",e.type),b(l,"name",e.id),b(l,"id",e.id),b(l,"placeholder",e.placeholder)}),ie(l,n),_(t,a),L()}var ce=A('<output-combo><label for="output"><!><span class="suffix">:</span></label> <output class="ul-txt-primary svelte-yrtgo0"> </output></output-combo>',2);function de(t,e){var i=ce(),n=g(i),a=g(n);j(a,()=>e.children??M),V(),v(n);var s=D(n,2),r=g(s,!0);v(s),v(i),W(()=>{b(s,"id",e.id),se(r,e.value)}),_(t,i)}var fe=A('<div class="mini-app svelte-rc2ygy"><div class="counter-area box box-highlight svelte-rc2ygy"><div class="input-area svelte-rc2ygy"><!> <!></div> <!></div></div>');function ge(t,e){P(e,!0);let i=y(8),n=y(10),a=S(()=>c(i)+c(n)),s=w.with(0,1e3,ne);w.withBasicTween(0,1e3);let r=H(s);F(()=>{let d=B(c(i)),x=B(c(n));const m=Math.min(4,Math.max(d,x));r.digitsAfterDec=m,r.value=c(a)});let u=S(()=>r.displayValueString);var l=fe(),f=g(l),o=g(f),h=g(o);N(h,{type:"number",id:"field1",placeholder:"input1",get value(){return c(i)},set value(d){p(i,d,!0)},children:(d,x)=>{V();var m=T("X");_(d,m)},$$slots:{default:!0}});var q=D(h,2);N(q,{type:"number",id:"field2",placeholder:"input2",get value(){return c(n)},set value(d){p(n,d,!0)},children:(d,x)=>{V();var m=T("Y");_(d,m)},$$slots:{default:!0}}),v(o);var I=D(o,2);de(I,{id:"output",get value(){return c(u)},children:(d,x)=>{V();var m=T("Output");_(d,m)}}),v(f),v(l),_(t,l),L()}const Re=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));export{ge as _,Re as a};

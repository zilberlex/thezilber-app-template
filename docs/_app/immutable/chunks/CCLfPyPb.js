const s=globalThis,T=()=>s.performance?.now?s.performance.now():Date.now();let p=0;const R=n=>{const t=T()-p,e=Math.max(0,16-t);return setTimeout(()=>{p=T(),n(p)},e)},b=n=>clearTimeout(n),g=typeof s.requestAnimationFrame=="function"?s.requestAnimationFrame:R,_=typeof s.cancelAnimationFrame=="function"?s.cancelAnimationFrame:b;function M(n,r){let t=0,e=!1,o=!1,a=0,f=null,i=null,d=0,c=0,l=r;function w(){e=!1,o=!1,_(t)}const h={start(u){e&&!o||(f=null,c=0,e=!0,o=!1,u&&(l={...l,...u}),a=0,t=g(m))},stop(){e&&w()},pause(){!e||o||(console.log("pause"),o=!0,_(t))},resume(){!e||!o||(console.log("resume"),o=!1,i!=null&&(d+=performance.now()-i,i=null),a=0,t=g(m))},get running(){return e},get paused(){return i=performance.now(),o},get animationRuntime(){return c},get currentAnimationParams(){return l}};function m(u){if(!e||o)return;f??=performance.now();const A=a?u-a:16.6667;if(a=u,c+=A-d,n(A,c,h,l)===!1){w();return}!e||o||(t=g(m))}return h}function S(n,r,t){return n*(1-t)+r*t}function C(n,r,t){const[e,o]=n,[a,f]=r;if(o===e)return a;const i=(t-e)/(o-e);return a+i*(f-a)}function q(n,r){const t=n.find(e=>r>=e.fromRange[0]&&r<=e.fromRange[1]);if(!t)throw new Error(`Value [${r}] not found in range maps. ${JSON.stringify(n)}`);return C(t.fromRange,t.toRange,r)}function x(n,r=0){if(!Number.isFinite(n))return n;const t=10**r;return Math.floor(n*t)/t}function N(n,r,t){const e=Math.floor(n/10**t),o=Math.floor(r/10**t);return e-o}function O(n,r){if(n===r)return-1;const t=n.toString(),e=r.toString(),o=Math.max(t.length,e.length),a=t.padStart(o,"0"),f=e.padStart(o,"0");for(let i=0;i<o;i++)if(a[i]!==f[i])return o-1-i;return-1}function D(n,r){return t=>S(n,r,t)}function V(n,r){const{from:t,to:e}=r,o=D(t,e);return F(o,n,r)}function F(n,r,t){return y((e,o)=>{r(n(e))},t)}function y(n,r){return M((t,e,o,a)=>{const f=Math.min(e/a.duration,1);return n(f,a),f<1},r)}export{D as a,F as b,N as c,x as f,O as i,q as s,V as t};
